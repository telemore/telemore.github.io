<div class="section-container container">
    <div class="row content-container">
        <div class="left-section col-lg-6 col-12">
            <div class="intro-container text-lg-start text-center">
                <h1 class="intro-header">
                    {{ site.data.home.home-intro-header-text }}
                    <span class="intro-colored-text">{{ site.data.home.home-intro-colored-text }}</span>
                </h1>
                <p class="intro-description">{{ site.data.home.home-intro-header-subtext }}</p>
                <div class="button-container mb-5 mb-lg-0">
                    <div class="button-wrapper flex-sm-nowrap justify-content-center justify-content-lg-start">
                        <div class="dropdown">
                            <button class="intro-button demo-button d-flex align-items-center justify-content-center" type="button" id="downloadDropdown" data-bs-toggle="dropdown" aria-expanded="false" style="background-color: #3886e0; color: white; border-radius: 8px; padding: 16px 60px; border: none; font-weight: 500; font-size: 20px; min-width: 280px; transition: all 0.3s ease; box-shadow: 0 4px 8px rgba(56, 134, 224, 0.3);">
                                <span>{{ site.data.home.home-intro-button-text1 }}</span>
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16" style="transition: transform 0.3s ease; margin-left: 26.8px;">
                                    <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                                </svg>
                            </button>
                            <ul class="dropdown-menu animate__animated animate__fadeIn" aria-labelledby="downloadDropdown" style="min-width: 280px; border-radius: 8px; margin-top: 8px; box-shadow: 0 8px 24px rgba(0,0,0,0.15); border: none; padding: 10px 0; overflow: hidden;">
                                <li><a class="dropdown-item py-3 px-4" href="javascript:void(0);" onclick="downloadFile('https://d3m3wl0ik6sdpk.cloudfront.net/Telemore.exe', 'Telemore.exe')" style="font-size: 16px; transition: all 0.2s ease; position: relative;">
                                    <span>Windows</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-download position-absolute" viewBox="0 0 16 16" style="right: 15px; opacity: 0; transition: opacity 0.2s ease;">
                                        <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                                        <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
                                    </svg>
                                </a></li>
                                <li><a class="dropdown-item py-3 px-4" href="javascript:void(0);" onclick="downloadFile('https://d3m3wl0ik6sdpk.cloudfront.net/Telemore-1.0.0-arm64.dmg', 'Telemore-arm64.dmg')" style="font-size: 16px; transition: all 0.2s ease; position: relative;">
                                    <span>Mac - Arm (M1, M2, M3, M4)</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-download position-absolute" viewBox="0 0 16 16" style="right: 15px; opacity: 0; transition: opacity 0.2s ease;">
                                        <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                                        <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
                                    </svg>
                                </a></li>
                                <li><a class="dropdown-item py-3 px-4" href="javascript:void(0);" onclick="downloadFile('https://d3m3wl0ik6sdpk.cloudfront.net/Telemore-1.0.0.dmg', 'Telemore-1.0.0.dmg')" style="font-size: 16px; transition: all 0.2s ease; position: relative;">
                                    <span>Mac - Intel</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-download position-absolute" viewBox="0 0 16 16" style="right: 15px; opacity: 0; transition: opacity 0.2s ease;">
                                        <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                                        <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
                                    </svg>
                                </a></li>
                                <li><a class="dropdown-item disabled py-3 px-4" href="#" style="color: #6c757d; font-size: 16px; position: relative;">Linux <small>(Coming Soon)</small></a></li>
                            </ul>
                        </div>

                        <style>
                            /* Animation effects for the dropdown */
                            .dropdown .intro-button:hover {
                                background-color: #2e75cc !important;
                                transform: translateY(-2px);
                                box-shadow: 0 6px 12px rgba(56, 134, 224, 0.4) !important;
                            }

                            .dropdown-menu.animate__animated {
                                animation-duration: 0.4s;
                            }

                            .dropdown-item:hover {
                                background-color: rgba(56, 134, 224, 0.1) !important;
                                padding-left: 30px !important;
                            }

                            .dropdown-item:hover svg {
                                opacity: 1 !important;
                            }

                            /* For the dropdown arrow animation */
                            .dropdown.show .bi-chevron-down {
                                transform: rotate(180deg);
                            }
                        </style>

                        <script>
                            // Download helper function
                            function downloadFile(url, fileName) {
                                console.log(`Starting download: ${url} as ${fileName}`);

                                // Method 1: Try using fetch API first (better for cross-origin requests)
                                fetch(url, {
                                    method: 'GET',
                                    mode: 'cors',
                                    cache: 'no-cache'
                                })
                                    .then(response => response.blob())
                                    .then(blob => {
                                        const blobUrl = window.URL.createObjectURL(blob);
                                        const link = document.createElement('a');
                                        link.href = blobUrl;
                                        link.download = fileName;

                                        // Append to document
                                        document.body.appendChild(link);

                                        // Trigger click
                                        link.click();

                                        // Cleanup
                                        window.URL.revokeObjectURL(blobUrl);
                                        document.body.removeChild(link);
                                    })
                                    .catch(error => {
                                        console.error('Download failed, trying alternative method:', error);

                                        // Method 2: Fallback to direct link with download attribute
                                        const link = document.createElement('a');
                                        link.href = url;
                                        link.download = fileName;
                                        link.target = '_blank';
                                        link.rel = 'noopener noreferrer';

                                        // Append to document
                                        document.body.appendChild(link);

                                        // Trigger click
                                        link.click();

                                        // Cleanup
                                        setTimeout(() => {
                                            document.body.removeChild(link);
                                        }, 100);
                                    });
                            }

                            // Add animate.css if not already included
                            document.addEventListener('DOMContentLoaded', function() {
                                if (!document.querySelector('link[href*="animate.css"]')) {
                                    var animateCss = document.createElement('link');
                                    animateCss.rel = 'stylesheet';
                                    animateCss.href = 'https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css';
                                    document.head.appendChild(animateCss);
                                }
                            });
                        </script>
                    </div>
                </div>
            </div>
        </div>
        <div class="right-section col-lg-6 col-12">
            <!-- Poster Container with Play Button -->
            <div id="video-poster-container" class="intro-image-container">
                <img src="{{ site.data.home.home-intro-image }}" class="d-block img-fluid intro-image" alt="{{ site.data.home.video-banner-aria }}" />
                <!-- Play button is removed -->
            </div>
        </div>
    </div>
</div>